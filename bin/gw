#!/usr/bin/env bash

command -v ./gradlew >/dev/null 2>&1 || {
    echo "Cannot find ./gradlew"
    echo "use this command to setup:"
    echo "    gw-setup -h"
    exit 1
}
if [[ $1 == "-v" || $1 == "--version" ]]; then
    if [[ $# == 2 ]]; then
        echo "Let me update that wrapper for you ..."
        ./gradlew wrapper --gradle-version $2
        command -v dos2unix >/dev/null 2>&1 && dos2unix gradle/wrapper/gradle-wrapper.properties
    else
        ./gradlew $*
        echo "update with"
        echo "  gw -v \$(version)"
        echo
        echo "consult https://gradle.org/releases/ for list of available releases"
    fi
else
    ./gradlew $*
fi
